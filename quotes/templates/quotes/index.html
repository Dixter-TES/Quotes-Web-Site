{% load static %}
<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Цитаты</title>
        <meta name="description" content="Quotes for every day!" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="{% static 'quotes/styles/main.css' %}" />

        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    </head>
    <body>
        <h1 class="text-3xl font-bold underline">
      Hello world!
    </h1>
        <div class="gradient-background">
            <div class="gradient-sphere sphere-1"></div>
            <div class="gradient-sphere sphere-2"></div>
            <div class="gradient-sphere sphere-3"></div>
            <div class="glow"></div>
            <div class="grid-overlay"></div>
            <div class="noise-overlay"></div>
            <div class="particles-container" id="particles-container"></div>
        </div>

        <div class="content-container">
            <h1 id="question">Какая цитата вдохновит вас сегодня?</h1>
            <div id="quote">
                {% if not quote %}
                <p>
                    Цитат пока нет. Пожалуйста, добавьте первую цитату через
                    админ-панель.
                </p>
                {% else %}
                <p style="text-align: left; margin: 0.5rem; font-size: 1rem">
                    Источник: {{ quote.source.name }}
                </p>
                <blockquote
                    style="
                        border: white solid 0.1rem;
                        border-radius: 1rem;
                        padding: 1.5rem;
                        backdrop-filter: blur(2rem);
                    "
                >
                    <p style="font-size: 1.5rem; margin-bottom: 1rem">
                        <i>„{{ quote.text }}“</i>
                    </p>
                    <p
                        style="
                            text-align: right;
                            margin-bottom: 0;
                            opacity: 0.5;
                        "
                    >
                        — {{ quote.attribution }}
                    </p>
                </blockquote>
                <div
                    style="
                        margin-top: 0.75rem;
                        text-align: right;
                        display: flex;
                        align-items: center;
                        justify-content: flex-end;
                    "
                >
                    <img src="/static/quotes/icons/thumb_up.svg" alt="Like"
                    style="backdrop-filter: blur(2rem);width:
                    3rem;height:3rem;cursor: pointer;border: solid white
                    0.1rem;padding:0.4rem;border-radius: 1rem;" width:="">
                    <span style="margin-left: 0.4rem">15</span>
                    <img
                        src="/static/quotes/icons/thumb_down.svg"
                        alt="Dislike"
                        style="
                            backdrop-filter: blur(2rem);
                            width: 3rem;
                            height: 3rem;
                            cursor: pointer;
                            margin-left: 1rem;
                            border: solid white 0.1rem;
                            padding: 0.4rem;
                            border-radius: 1rem;
                        "
                    />
                    <span style="margin-left: 0.4rem">87</span>
                </div>
                {% comment %} {% if score.is_like %}
                <p>Ваш текущий счёт за эту цитату: {{ score.is_like }}</p>
                {% else %}
                <p>Вы ещё не оценивали эту цитату.</p>
                {% endif %} {% endcomment %} {% endif %}
            </div>

            <button class="btn" id="showBtn">Узнать сейчас</button>
        </div>

        <footer>
            <p style="margin-bottom: 0.25rem; opacity: 0.5">
                Всего просмотров: {{ total_views }}
            </p>
        </footer>

        <script>
            const btn = document.getElementById("showBtn");
            const quote = document.getElementById("quote");

            btn.addEventListener("click", () => {
                btn.classList.add("shrink");
                setTimeout(() => {
                    btn.style.display = "none";
                    quote.classList.add("visible");
                }, 300);
            });
        </script>

        <script src="{% static 'quotes/scripts/animated_bg.js' %}"></script>
    </body>
</html>
